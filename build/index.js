(()=>{"use strict";const e=wp.blocks,t=wp.i18n,r=wp.element,a=wp.blockEditor,n=wp.components;function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function o(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,m(a.key),a)}}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(i=function(){return!!e})()}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==l(t)?t:t+""}const f=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),u(t=function(e,t,r){return t=c(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,i()?Reflect.construct(t,r||[],c(e).constructor):t.apply(e,r))}(this,r,[e]),"togglePicker",function(){t.setState({showPicker:!t.state.showPicker})}),u(t,"selectIcon",function(e){t.props.onSelectIcon(e),t.setState({showPicker:!1})}),t.state={searchTerm:"",showPicker:!1},t.icons=[{name:"Hogar",class:"fas fa-home"},{name:"Grifería",class:"fas fa-faucet"},{name:"Herramientas",class:"fas fa-wrench"},{name:"Llave",class:"fas fa-key"},{name:"Iluminación",class:"fas fa-lightbulb"},{name:"Bombilla",class:"fas fa-light-ceiling"},{name:"Aperturas",class:"fas fa-door-open"},{name:"Puerta",class:"fas fa-door-closed"},{name:"Muebles",class:"fas fa-couch"},{name:"Silla",class:"fas fa-chair"},{name:"Cama",class:"fas fa-bed"},{name:"Cocina",class:"fas fa-utensils"},{name:"Refrigerador",class:"fas fa-refrigerator"},{name:"Baño",class:"fas fa-bath"},{name:"Ducha",class:"fas fa-shower"},{name:"Inodoro",class:"fas fa-toilet"},{name:"Lavabo",class:"fas fa-sink"},{name:"Pintura",class:"fas fa-paint-roller"},{name:"Martillo",class:"fas fa-hammer"},{name:"Destornillador",class:"fas fa-screwdriver"},{name:"Taladro",class:"fas fa-drill"},{name:"Sierra",class:"fas fa-saw"},{name:"Escalera",class:"fas fa-ladder"},{name:"Caja de herramientas",class:"fas fa-toolbox"},{name:"Llave inglesa",class:"fas fa-wrench-simple"},{name:"Enchufe",class:"fas fa-plug"},{name:"Bombilla LED",class:"fas fa-lightbulb-on"},{name:"Lámpara",class:"fas fa-lamp"},{name:"Ventana",class:"fas fa-window"},{name:"Edificio",class:"fas fa-building"},{name:"Casa",class:"fas fa-house"},{name:"Herramientas construcción",class:"fas fa-tools"},{name:"Tuerca",class:"fas fa-nut"},{name:"Tornillo",class:"fas fa-bolt"},{name:"Regla",class:"fas fa-ruler"},{name:"Nivel",class:"fas fa-level"},{name:"Cinta métrica",class:"fas fa-ruler-combined"},{name:"Cubo",class:"fas fa-bucket"},{name:"Espátula",class:"fas fa-trowel"},{name:"Pincel",class:"fas fa-paintbrush"},{name:"Carrito",class:"fas fa-shopping-cart"},{name:"Cesta",class:"fas fa-shopping-basket"},{name:"Estrella",class:"fas fa-star"},{name:"Corazón",class:"fas fa-heart"},{name:"Usuario",class:"fas fa-user"},{name:"Configuración",class:"fas fa-cog"},{name:"Check",class:"fas fa-check"},{name:"Cerrar",class:"fas fa-times"},{name:"Buscar",class:"fas fa-search"},{name:"Menú",class:"fas fa-bars"}],t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(r,e),a=r,(m=[{key:"render",value:function(){var e=this,r=this.props.selectedIcon,a=this.state,l=a.searchTerm,o=a.showPicker,i=this.icons.filter(function(e){return e.name.toLowerCase().includes(l.toLowerCase())||e.class.toLowerCase().includes(l.toLowerCase())});return React.createElement("div",{className:"multi-slider-icon-picker"},React.createElement("label",null,(0,t.__)("Icono","multi-slider-react")),React.createElement("div",{className:"multi-slider-icon-picker-selected"},React.createElement("div",{className:"multi-slider-icon-display"},React.createElement("i",{className:r})),React.createElement(n.Button,{isSecondary:!0,onClick:this.togglePicker},(0,t.__)("Cambiar Icono","multi-slider-react"))),o&&React.createElement("div",{className:"multi-slider-icon-picker-dropdown"},React.createElement(n.TextControl,{placeholder:(0,t.__)("Buscar icono...","multi-slider-react"),value:l,onChange:function(t){return e.setState({searchTerm:t})}}),React.createElement("div",{className:"multi-slider-icon-picker-grid"},i.map(function(t,a){return React.createElement("button",{key:a,className:"multi-slider-icon-picker-item ".concat(r===t.class?"selected":""),onClick:function(){return e.selectIcon(t.class)},title:t.name,type:"button"},React.createElement("i",{className:t.class}))})),0===i.length&&React.createElement("p",{className:"multi-slider-no-icons"},(0,t.__)("No se encontraron iconos","multi-slider-react"))))}}])&&o(a.prototype,m),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,m}(r.Component);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,R(a.key),a)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(E=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function _(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}const O=function(e){function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),_(t=function(e,t,r){return t=g(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}(this,r,[e]),"openModal",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e?t.setState({isModalOpen:!0,editingIndex:e,currentItem:v({},t.props.attributes.items[e])}):t.setState({isModalOpen:!0,editingIndex:null,currentItem:{name:"",link:"#",icon:"fas fa-home"}})}),_(t,"closeModal",function(){t.setState({isModalOpen:!1,editingIndex:null,currentItem:{name:"",link:"#",icon:"fas fa-home"}})}),_(t,"addOrUpdateItem",function(){var e=t.props,r=e.attributes,a=e.setAttributes,n=t.state,l=n.editingIndex,o=n.currentItem,i=p(r.items);null!==l?i[l]=o:i.push(o),a({items:i}),t.closeModal()}),_(t,"deleteItem",function(e){var r=t.props,a=r.attributes;(0,r.setAttributes)({items:a.items.filter(function(t,r){return r!==e})})}),_(t,"updateCurrentItem",function(e,r){t.setState({currentItem:v(v({},t.state.currentItem),{},_({},e,r))})}),t.state={isModalOpen:!1,editingIndex:null,currentItem:{name:"",link:"#",icon:"fas fa-home"}},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(r,e),l=r,(o=[{key:"render",value:function(){var e=this,r=this.props.attributes,l=r.items,o=this.state,i=o.isModalOpen,c=o.currentItem,s=o.editingIndex;return React.createElement(React.Fragment,null,React.createElement(a.InspectorControls,null,React.createElement(n.PanelBody,{title:(0,t.__)("Configuración del Slider","multi-slider-react")},React.createElement("p",null,(0,t.__)("Usa el panel principal para añadir items","multi-slider-react"))),React.createElement(n.PanelBody,{title:(0,t.__)("Color Principal","multi-slider-react"),initialOpen:!0},React.createElement("p",null,(0,t.__)("Selecciona el color principal para el slider","multi-slider-react")),React.createElement(n.ColorPalette,{colors:[{name:"Naranja",color:"#ff6b35"},{name:"Azul",color:"#3498db"},{name:"Verde",color:"#2ecc71"},{name:"Rojo",color:"#e74c3c"},{name:"Morado",color:"#9b59b6"},{name:"Amarillo",color:"#f39c12"},{name:"Rosa",color:"#e91e63"},{name:"Cian",color:"#00bcd4"}],value:r.primaryColor,onChange:function(t){return e.props.setAttributes({primaryColor:t})}}))),React.createElement("div",{className:"multi-slider-editor"},React.createElement("h3",null,(0,t.__)("Añadir nuevo item","multi-slider-react")),React.createElement(n.Button,{isPrimary:!0,onClick:function(){return e.openModal()},className:"multi-slider-add-button"},"+ ",(0,t.__)("Añadir Item","multi-slider-react")),React.createElement("div",{className:"multi-slider-items-grid"},l.map(function(r,a){return React.createElement("div",{key:a,className:"multi-slider-item-card"},React.createElement("div",{className:"multi-slider-item-header"},React.createElement("strong",null,(0,t.__)("NOMBRE","multi-slider-react")),React.createElement(n.TextControl,{value:r.name,onChange:function(t){var r=p(l);r[a].name=t,e.props.setAttributes({items:r})}})),React.createElement("div",{className:"multi-slider-item-body"},React.createElement("strong",null,(0,t.__)("ENLACE","multi-slider-react")),React.createElement(n.TextControl,{value:r.link,onChange:function(t){var r=p(l);r[a].link=t,e.props.setAttributes({items:r})},placeholder:"#"})),React.createElement("div",{className:"multi-slider-item-footer"},React.createElement(n.Button,{isSecondary:!0,onClick:function(){return e.openModal(a)},className:"multi-slider-icon-button"},React.createElement("i",{className:"fas fa-pen"})," ",(0,t.__)("Seleccionar Icono","multi-slider-react")),React.createElement("div",{className:"multi-slider-icon-preview"},React.createElement("i",{className:r.icon}))),React.createElement(n.Button,{isDestructive:!0,onClick:function(){return e.deleteItem(a)},className:"multi-slider-delete-button"},React.createElement("i",{className:"fas fa-trash"})," ",(0,t.__)("Eliminar","multi-slider-react")))})),i&&React.createElement(n.Modal,{title:null!==s?(0,t.__)("Editar Item","multi-slider-react"):(0,t.__)("Añadir Item","multi-slider-react"),onRequestClose:this.closeModal,className:"multi-slider-modal"},React.createElement("div",{className:"multi-slider-modal-content"},React.createElement(n.TextControl,{label:(0,t.__)("Nombre","multi-slider-react"),value:c.name,onChange:function(t){return e.updateCurrentItem("name",t)}}),React.createElement(n.TextControl,{label:(0,t.__)("Enlace","multi-slider-react"),value:c.link,onChange:function(t){return e.updateCurrentItem("link",t)},placeholder:"#"}),React.createElement(f,{selectedIcon:c.icon,onSelectIcon:function(t){return e.updateCurrentItem("icon",t)}}),React.createElement("div",{className:"multi-slider-modal-actions"},React.createElement(n.Button,{isPrimary:!0,onClick:this.addOrUpdateItem},null!==s?(0,t.__)("Actualizar","multi-slider-react"):(0,t.__)("Añadir","multi-slider-react")),React.createElement(n.Button,{isSecondary:!0,onClick:this.closeModal},(0,t.__)("Cancelar","multi-slider-react"))))),l.length>0&&React.createElement("div",{className:"multi-slider-preview"},React.createElement("h4",null,(0,t.__)("Vista Previa","multi-slider-react")),React.createElement("div",{className:"multi-slider-preview-items"},l.map(function(e,t){return React.createElement("div",{key:t,className:"multi-slider-preview-item"},React.createElement("div",{className:"multi-slider-preview-icon"},React.createElement("i",{className:e.icon})),React.createElement("span",null,e.name))})))))}}])&&h(l.prototype,o),Object.defineProperty(l,"prototype",{writable:!1}),l;var l,o}(r.Component);(0,e.registerBlockType)("multi-slider/slider-block",{title:(0,t.__)("Multi Slider Interactivo","multi-slider-react"),description:(0,t.__)("Bloque de slider interactivo con categorías","multi-slider-react"),category:"widgets",icon:"slides",keywords:[(0,t.__)("slider","multi-slider-react"),(0,t.__)("categorías","multi-slider-react")],attributes:{items:{type:"array",default:[]},primaryColor:{type:"string",default:"#ff6b35"}},edit:O,save:function(){return null}})})();