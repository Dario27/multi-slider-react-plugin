(()=>{"use strict";const e=wp.blocks,t=wp.i18n,a=wp.element,r=wp.blockEditor,n=wp.components;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function u(e,t,a){return(t=m(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function m(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}const f=function(e){function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u(t=function(e,t,a){return t=o(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,l()?Reflect.construct(t,a||[],o(e).constructor):t.apply(e,a))}(this,a,[e]),"togglePicker",function(){t.setState({showPicker:!t.state.showPicker})}),u(t,"selectIcon",function(e){t.props.onSelectIcon(e),t.setState({showPicker:!1})}),t.state={searchTerm:"",showPicker:!1},t.icons=[{name:"Hogar",class:"fas fa-home"},{name:"Grifería",class:"fas fa-faucet"},{name:"Herramientas",class:"fas fa-wrench"},{name:"Llave",class:"fas fa-key"},{name:"Iluminación",class:"fas fa-lightbulb"},{name:"Bombilla",class:"fas fa-light-ceiling"},{name:"Aperturas",class:"fas fa-door-open"},{name:"Puerta",class:"fas fa-door-closed"},{name:"Muebles",class:"fas fa-couch"},{name:"Silla",class:"fas fa-chair"},{name:"Cama",class:"fas fa-bed"},{name:"Cocina",class:"fas fa-utensils"},{name:"Refrigerador",class:"fas fa-refrigerator"},{name:"Baño",class:"fas fa-bath"},{name:"Ducha",class:"fas fa-shower"},{name:"Inodoro",class:"fas fa-toilet"},{name:"Lavabo",class:"fas fa-sink"},{name:"Pintura",class:"fas fa-paint-roller"},{name:"Martillo",class:"fas fa-hammer"},{name:"Destornillador",class:"fas fa-screwdriver"},{name:"Taladro",class:"fas fa-drill"},{name:"Sierra",class:"fas fa-saw"},{name:"Escalera",class:"fas fa-ladder"},{name:"Caja de herramientas",class:"fas fa-toolbox"},{name:"Llave inglesa",class:"fas fa-wrench-simple"},{name:"Enchufe",class:"fas fa-plug"},{name:"Bombilla LED",class:"fas fa-lightbulb-on"},{name:"Lámpara",class:"fas fa-lamp"},{name:"Ventana",class:"fas fa-window"},{name:"Edificio",class:"fas fa-building"},{name:"Casa",class:"fas fa-house"},{name:"Herramientas construcción",class:"fas fa-tools"},{name:"Tuerca",class:"fas fa-nut"},{name:"Tornillo",class:"fas fa-bolt"},{name:"Regla",class:"fas fa-ruler"},{name:"Nivel",class:"fas fa-level"},{name:"Cinta métrica",class:"fas fa-ruler-combined"},{name:"Cubo",class:"fas fa-bucket"},{name:"Espátula",class:"fas fa-trowel"},{name:"Pincel",class:"fas fa-paintbrush"},{name:"Carrito",class:"fas fa-shopping-cart"},{name:"Cesta",class:"fas fa-shopping-basket"},{name:"Estrella",class:"fas fa-star"},{name:"Corazón",class:"fas fa-heart"},{name:"Usuario",class:"fas fa-user"},{name:"Configuración",class:"fas fa-cog"},{name:"Check",class:"fas fa-check"},{name:"Cerrar",class:"fas fa-times"},{name:"Buscar",class:"fas fa-search"},{name:"Menú",class:"fas fa-bars"}],t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(a,e),r=a,(m=[{key:"render",value:function(){var e=this,a=this.props.selectedIcon,r=this.state,i=r.searchTerm,c=r.showPicker,l=this.icons.filter(function(e){return e.name.toLowerCase().includes(i.toLowerCase())||e.class.toLowerCase().includes(i.toLowerCase())});return React.createElement("div",{className:"multi-slider-icon-picker"},React.createElement("label",null,(0,t.__)("Icono","multi-slider-react")),React.createElement("div",{className:"multi-slider-icon-picker-selected"},React.createElement("div",{className:"multi-slider-icon-display"},React.createElement("i",{className:a})),React.createElement(n.Button,{isSecondary:!0,onClick:this.togglePicker},(0,t.__)("Cambiar Icono","multi-slider-react"))),c&&React.createElement("div",{className:"multi-slider-icon-picker-dropdown"},React.createElement(n.TextControl,{placeholder:(0,t.__)("Buscar icono...","multi-slider-react"),value:i,onChange:function(t){return e.setState({searchTerm:t})}}),React.createElement("div",{className:"multi-slider-icon-picker-grid"},l.map(function(t,r){return React.createElement("button",{key:r,className:"multi-slider-icon-picker-item ".concat(a===t.class?"selected":""),onClick:function(){return e.selectIcon(t.class)},title:t.name,type:"button"},React.createElement("i",{className:t.class}))})),0===l.length&&React.createElement("p",{className:"multi-slider-no-icons"},(0,t.__)("No se encontraron iconos","multi-slider-react"))))}}])&&c(r.prototype,m),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,m}(a.Component);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach(function(t){_(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function h(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(E=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function _(e,t,a){return(t=R(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function R(e){var t=function(e){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=d(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==d(t)?t:t+""}const O=function(e){function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),_(t=function(e,t,a){return t=g(t),function(e,t){if(t&&("object"==d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E()?Reflect.construct(t,a||[],g(e).constructor):t.apply(e,a))}(this,a,[e]),"openModal",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e?t.setState({isModalOpen:!0,editingIndex:e,currentItem:v({},t.props.attributes.items[e])}):t.setState({isModalOpen:!0,editingIndex:null,currentItem:{name:"",link:"#",icon:"fas fa-home"}})}),_(t,"closeModal",function(){t.setState({isModalOpen:!1,editingIndex:null,currentItem:{name:"",link:"#",icon:"fas fa-home"}})}),_(t,"addOrUpdateItem",function(){var e=t.props,a=e.attributes,r=e.setAttributes,n=t.state,i=n.editingIndex,c=n.currentItem,l=p(a.items);null!==i?l[i]=c:l.push(c),r({items:l}),t.closeModal()}),_(t,"deleteItem",function(e){var a=t.props,r=a.attributes;(0,a.setAttributes)({items:r.items.filter(function(t,a){return a!==e})})}),_(t,"updateCurrentItem",function(e,a){t.setState({currentItem:v(v({},t.state.currentItem),{},_({},e,a))})}),t.state={isModalOpen:!1,editingIndex:null,currentItem:{name:"",link:"#",icon:"fas fa-home"}},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e),i=a,(c=[{key:"render",value:function(){var e=this,a=this.props.attributes.items,i=this.state,c=i.isModalOpen,l=i.currentItem,o=i.editingIndex;return React.createElement(React.Fragment,null,React.createElement(r.InspectorControls,null,React.createElement(n.PanelBody,{title:(0,t.__)("Configuración del Slider","multi-slider-react")},React.createElement("p",null,(0,t.__)("Usa el panel principal para añadir items","multi-slider-react")))),React.createElement("div",{className:"multi-slider-editor"},React.createElement("h3",null,(0,t.__)("Añadir nuevo item","multi-slider-react")),React.createElement(n.Button,{isPrimary:!0,onClick:function(){return e.openModal()},className:"multi-slider-add-button"},"+ ",(0,t.__)("Añadir Item","multi-slider-react")),React.createElement("div",{className:"multi-slider-items-grid"},a.map(function(r,i){return React.createElement("div",{key:i,className:"multi-slider-item-card"},React.createElement("div",{className:"multi-slider-item-header"},React.createElement("strong",null,(0,t.__)("NOMBRE","multi-slider-react")),React.createElement(n.TextControl,{value:r.name,onChange:function(t){var r=p(a);r[i].name=t,e.props.setAttributes({items:r})}})),React.createElement("div",{className:"multi-slider-item-body"},React.createElement("strong",null,(0,t.__)("ENLACE","multi-slider-react")),React.createElement(n.TextControl,{value:r.link,onChange:function(t){var r=p(a);r[i].link=t,e.props.setAttributes({items:r})},placeholder:"#"})),React.createElement("div",{className:"multi-slider-item-footer"},React.createElement(n.Button,{isSecondary:!0,onClick:function(){return e.openModal(i)},className:"multi-slider-icon-button"},React.createElement("i",{className:"fas fa-pen"})," ",(0,t.__)("Seleccionar Icono","multi-slider-react")),React.createElement("div",{className:"multi-slider-icon-preview"},React.createElement("i",{className:r.icon}))),React.createElement(n.Button,{isDestructive:!0,onClick:function(){return e.deleteItem(i)},className:"multi-slider-delete-button"},React.createElement("i",{className:"fas fa-trash"})," ",(0,t.__)("Eliminar","multi-slider-react")))})),c&&React.createElement(n.Modal,{title:null!==o?(0,t.__)("Editar Item","multi-slider-react"):(0,t.__)("Añadir Item","multi-slider-react"),onRequestClose:this.closeModal,className:"multi-slider-modal"},React.createElement("div",{className:"multi-slider-modal-content"},React.createElement(n.TextControl,{label:(0,t.__)("Nombre","multi-slider-react"),value:l.name,onChange:function(t){return e.updateCurrentItem("name",t)}}),React.createElement(n.TextControl,{label:(0,t.__)("Enlace","multi-slider-react"),value:l.link,onChange:function(t){return e.updateCurrentItem("link",t)},placeholder:"#"}),React.createElement(f,{selectedIcon:l.icon,onSelectIcon:function(t){return e.updateCurrentItem("icon",t)}}),React.createElement("div",{className:"multi-slider-modal-actions"},React.createElement(n.Button,{isPrimary:!0,onClick:this.addOrUpdateItem},null!==o?(0,t.__)("Actualizar","multi-slider-react"):(0,t.__)("Añadir","multi-slider-react")),React.createElement(n.Button,{isSecondary:!0,onClick:this.closeModal},(0,t.__)("Cancelar","multi-slider-react"))))),a.length>0&&React.createElement("div",{className:"multi-slider-preview"},React.createElement("h4",null,(0,t.__)("Vista Previa","multi-slider-react")),React.createElement("div",{className:"multi-slider-preview-items"},a.map(function(e,t){return React.createElement("div",{key:t,className:"multi-slider-preview-item"},React.createElement("div",{className:"multi-slider-preview-icon"},React.createElement("i",{className:e.icon})),React.createElement("span",null,e.name))})))))}}])&&h(i.prototype,c),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,c}(a.Component);(0,e.registerBlockType)("multi-slider/slider-block",{title:(0,t.__)("Multi Slider Interactivo","multi-slider-react"),description:(0,t.__)("Bloque de slider interactivo con categorías","multi-slider-react"),category:"widgets",icon:"slides",keywords:[(0,t.__)("slider","multi-slider-react"),(0,t.__)("categorías","multi-slider-react")],attributes:{items:{type:"array",default:[]}},edit:O,save:function(){return null}})})();